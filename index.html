<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <script>
        function getComputerChoice() {
            const choice = Math.floor(Math.random() * 3);

            switch (choice) {
                case 0:
                    return "rock";
                    break;
                case 1:
                    return "paper";
                    break;
                case 2:
                    return "scissor";
                    break;
            }
        }

        function getHumanChoice() {
            var choice = null;

            while (choice == null || (choice != "rock" && choice != "paper" && choice != "scissor")) {
                choice = prompt("What do you choose? (Rock, Paper, Scissor) ").toLowerCase();
            }

            return choice
        }

        function toTitleString(str) {
            return str.replace(
                /\w\S*/g,
                text => text.charAt(0).toUpperCase() + text.substring(1).toLowerCase()
            );
        }

        function playGame() {
            var humanScore = 0;
            var computerScore = 0;

            function playRound(humanChoice, computerChoice) {
                if ((humanChoice == "rock" && computerChoice == "scissor") || (humanChoice == "paper" && computerChoice == "rock") || (humanChoice == "scissor" && computerChoice == "paper")) {
                    console.log(`You win! ${toTitleString(humanChoice)} beats ${toTitleString(computerChoice)}`);
                    humanScore++;
                } else if (humanChoice == computerChoice) {
                    console.log(`No winner! ${toTitleString(humanChoice)} matches ${toTitleString(computerChoice)}`);
                } else {
                    console.log(`You lose! ${toTitleString(computerChoice)} beats ${toTitleString(humanChoice)}`);
                    computerScore++;
                }
            }

            for (let i = 0; i < 5; i++) {
                // var humanChoice = getHumanChoice();
                // var computerChoice = getComputerChoice();
                playRound(getHumanChoice(), getComputerChoice());
            }

            console.log(`You're score: ${humanScore}`);
            console.log(`Computer score: ${computerScore}`);
            if (humanScore > computerScore) {
                console.log("Congratulations, you win!");
            } else if (humanScore < computerScore) {
                console.log("Too bad, you lose!");
            } else {
                console.log("You tied!");
            }
        }

        playGame();
    </script>
</head>

<body>

</body>

</html>